<div id="search-wrapper">
  <input type="text" id="search" pInputText placeholder="Buscar" (input)="dt.filterGlobal($event.target.value, 'contains')">
  <i class="pi pi-search"></i>
</div>
<br><br><br>
<p-toast></p-toast>
<p-toast position="top-left" key="tl"></p-toast>
<p-confirmDialog #cd header="Confirmation" icon="pi pi-exclamation-triangle">
  <p-footer>
      <button type="button" pButton icon="pi pi-times" label="No" (click)="cd.reject()"></button>
      <button type="button" pButton icon="pi pi-check" label="Si" (click)="cd.accept()"></button>
  </p-footer>
</p-confirmDialog>
<div class="card">
  <p-panel header="Contactos">
      <p-table #dt [value]="contactos" 
      [globalFilterFields]="['con_id','connombre','contelefono','concorreo','conatendio', 'conestado']" 
      [resizableColumns]="true" [rows]="10" [paginator]="true" [rowHover]="true">
          <ng-template pTemplate="header">
              <tr>
                  <!-- <th pSortableColumn="con_id" pResizableColumn>ID</th> -->
                  <th pSortableColumn="connombre" style="width: 300px;" pResizableColumn>Nombre</th>
                  <th pSortableColumn="contelefono" style="width: 150px;" pResizableColumn>Telefono</th>
                  <!-- <th pSortableColumn="condireccion" pResizableColumn>Dirección</th> -->
                  <!-- <th pSortableColumn="concorreo" pResizableColumn>Email</th> -->
                  <th pSortableColumn="conatendio" style="width: 300px;" pResizableColumn>Atendido por</th>
                  <th pSortableColumn="conestado"  style="width: 200px;" pResizableColumn>Estado</th>
                  <th class="descarto" pSortableColumn="confecha"  style="width: 150px;" pResizableColumn>Fecha de creación</th>
                  <!-- <th pSortableColumn="connota" pResizableColumn>Nota</th> -->
                  <!-- <th class="descarto" pSortableColumn="confecultimocont" pResizableColumn>Fecha de actualización</th> -->
                  <th pSortableColumn="name"  style="width: 100px;" pResizableColumn></th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-columns let-contacto let-i="rowIndex">
              <tr>
                  <!-- <td style="text-align:center" class="old-car">{{contacto.con_id}}</td> -->
                  <td style="text-align:center">{{contacto.connombre | uppercase}}</td>
                  <td style="text-align:center">{{contacto.contelefono}}</td>
                  <!-- <td style="text-align:center">{{contacto.condireccion}}</td> -->
                  <!-- <td style="text-align:center">{{contacto.concorreo}}</td> -->
                  <td style="text-align:center">{{contacto.conatendio | uppercase}}</td>
                  <td style="text-align:center">{{contacto.conestado | uppercase}}</td>
                  <td style="text-align:center" class="descarto">{{contacto.confecha}}</td>
                  <!-- <td style="text-align:center">{{contacto.connota}}</td> -->
                  <!-- <td style="text-align:center" class="descarto">{{contacto.confecultimocont}}</td> -->
                  <td style="text-align:right">
                      <button pButton pRipple icon="pi pi-pencil" class="tooltip" title="Editar" pRipple (click)="editContacto(contacto)" routerLink="/main/contactos/editar" class="p-button-rounded p-button-success p-mr-2" style="margin-right: .5em"></button>
                      <button pButton pRipple icon="pi pi-trash" class="tooltip" title="Eliminar" pRipple (click)="deleteContato(contacto)" class="p-button-rounded p-button-warning"></button>
                  </td>
              </tr>
          </ng-template>
      </p-table>
      <br>
      <div style="text-align:center">
          <button type="button" pButton icon="fa fa-plus" class="tooltip" title="Agregar contacto" pRipple routerLink="/main/contactos/formcontacto" (click)="newcPrueba()" label="Agregar"></button>
      </div>
  </p-panel>
</div>
